# turn off MultiViews if enabled
Options -MultiViews

# Necessary to add charset while using type-map
AddType application/x-javascript;charset=utf-8 js
AddType text/css;charset=utf-8 css

# Below we remove the ETag header and set a far-off Expires
# header. Since clients will aggressively cache, make sure 
# to modify the URL (querystring or via mod_rewrite) when 
# the resource changes

# remove ETag
FileETag None

# requires mod_expires
ExpiresActive On
# sets Expires and Cache-Control: max-age, but not "public"
ExpiresDefault "access plus 1 year"

# requires mod_headers
# adds the "public" to Cache-Control.
Header set Cache-Control "public, max-age=31536000"

# requires mod_deflate
AddOutputFilterByType DEFLATE application/x-javascript text/css
# IE 5 and 6 are the only ones we really care about
BrowserMatch \bMSIE\s[56] no-gzip
# but not if it's got the SV1 patch or is really Opera
BrowserMatch \b(SV1|Opera)\b !no-gzip
